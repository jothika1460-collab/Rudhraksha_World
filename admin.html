<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Admin - Rudraksha World</title>
  <style>
    body{font-family:Arial;padding:20px;background:#f6f6fb}
    .form{background:#fff;padding:16px;border-radius:8px;max-width:700px}
    input,textarea{width:100%;padding:8px;margin:8px 0;border:1px solid #ccc;border-radius:6px}
    label{font-weight:600}
    button{background:#667eea;color:#fff;border:none;padding:10px 14px;border-radius:8px;cursor:pointer}
    .product-box{background:#fff;padding:12px;margin:12px 0;border-radius:8px;display:flex;gap:12px;align-items:center}
    .product-box img{width:80px;height:80px;object-fit:cover;border-radius:6px}
    .delete-btn{background:#ff6b6b;border:none;color:#fff;padding:6px 10px;border-radius:6px;cursor:pointer}
  </style>
</head>
<body>
  <h2>Admin - Add Product</h2>
  <div class="form">
    <label>Product Name</label>
    <input id="pname" placeholder="Product name">
    <label>Price (₹)</label>
    <input id="pprice" type="number" placeholder="Price">
    <label>Image URL or relative path (e.g. ./images/1_mukhi_rudraksha.webp)</label>
    <input id="pimage" placeholder="./images/1_mukhi_rudraksha.webp or https://...">
    <label>Description</label>
    <textarea id="pdesc" rows="3"></textarea>
    <button id="addBtn">Add Product</button>
  </div>

  <h3>All Products</h3>
  <div id="productList"></div>

  <script>
    let products = JSON.parse(localStorage.getItem('products') || '[]');

    function save(){ localStorage.setItem('products', JSON.stringify(products)); render(); }

    document.getElementById('addBtn').addEventListener('click', ()=>{
      const name = document.getElementById('pname').value.trim();
      const price = Number(document.getElementById('pprice').value || 0);
      const image = document.getElementById('pimage').value.trim();
      const desc = document.getElementById('pdesc').value.trim();
      if (!name || !price || !image){ alert('Name, price and image are required'); return; }
      products.push({ id: Date.now(), name, price, image, description: desc, quantity: 1 });
      save();
      alert('Product added');
      document.getElementById('pname').value=''; document.getElementById('pprice').value=''; document.getElementById('pimage').value=''; document.getElementById('pdesc').value='';
    });

    function removeProduct(id){
      products = products.filter(p => p.id !== id);
      save();
    }

    function render(){
      const el = document.getElementById('productList');
      if (!products || products.length===0){ el.innerHTML = '<p>No products yet.</p>'; return; }
      el.innerHTML = '';
      products.forEach(p=>{
        const box = document.createElement('div');
        box.className='product-box';
        box.innerHTML = `
          <img src="${p.image}" onerror="this.src='./images/placeholder.png'">
          <div style="flex:1">
            <div><strong>${p.name}</strong></div>
            <div>₹${p.price}</div>
            <div style="margin-top:6px">${p.description||''}</div>
          </div>
          <div>
            <button class="delete-btn" onclick="removeProduct(${p.id})">Delete</button>
          </div>
        `;
        el.appendChild(box);
      });
    }

    render();
  </script>
</body>
</html>
